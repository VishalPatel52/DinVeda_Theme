{% comment %}
  DinVeda Ritual Snapshot Section
  Displays 3 icon blocks: icon + label + value
  Layout: Centered headline, 3 blocks in row (desktop), stacked (mobile)
  Premium styling: thin dividers, calm spacing, serif headline
  Uses inline SVG icons (no Material Symbols)
{% endcomment %}

<section
  id="dinveda-ritual-snapshot-{{ section.id }}"
  class="dinveda-ritual-snapshot"
  data-section-id="{{ section.id }}"
  data-section-type="dinveda-ritual-snapshot"
>
  <div class="dinveda-ritual-snapshot__container">
    {%- if section.settings.heading != blank -%}
      <div class="dinveda-ritual-snapshot__heading-wrapper">
        <span class="dinveda-ritual-snapshot__heading-line"></span>
        <h2 class="dinveda-ritual-snapshot__heading">
          {{ section.settings.heading | escape }}
        </h2>
        <span class="dinveda-ritual-snapshot__heading-line"></span>
      </div>
    {%- endif -%}
    
    <div class="dinveda-ritual-snapshot__grid">
      {%- comment -%} Block 1: Tageszeit {%- endcomment -%}
      {%- liquid
        assign timing_value = product.metafields.dinveda.ritual_timing | default: section.settings.timing_fallback
      -%}
      {% if timing_value != blank %}
        <div class="dinveda-ritual-snapshot__item">
          <div class="dinveda-ritual-snapshot__icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <line x1="2" y1="18" x2="22" y2="18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M12 6c0-2.5 2-4.5 4.5-4.5S21 3.5 21 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" fill="none"/>
              <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.5" fill="none"/>
            </svg>
          </div>
          <div class="dinveda-ritual-snapshot__label">Tageszeit</div>
          <div class="dinveda-ritual-snapshot__value">{{ timing_value | escape }}</div>
        </div>
      {% endif %}

      {%- comment -%} Block 2: Anwendung {%- endcomment -%}
      {%- liquid
        assign usage_value = product.metafields.dinveda.ritual_usage | default: section.settings.usage_fallback
      -%}
      {% if usage_value != blank %}
        <div class="dinveda-ritual-snapshot__item">
          <div class="dinveda-ritual-snapshot__icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M5 8h12v8a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M17 8h2a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <line x1="5" y1="12" x2="5" y2="12" stroke="currentColor" stroke-width="1.5"/>
            </svg>
          </div>
          <div class="dinveda-ritual-snapshot__label">Anwendung</div>
          <div class="dinveda-ritual-snapshot__value">{{ usage_value | escape }}</div>
        </div>
      {% endif %}

      {%- comment -%} Block 3: Geschmack {%- endcomment -%}
      {%- liquid
        assign taste_value = product.metafields.dinveda.taste_character | default: section.settings.taste_fallback
      -%}
      {% if taste_value != blank %}
        <div class="dinveda-ritual-snapshot__item">
          <div class="dinveda-ritual-snapshot__icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="12" cy="12" r="3" fill="currentColor"/>
              <path d="M12 2L13 8L12 12L11 8Z" fill="currentColor"/>
              <path d="M12 22L11 16L12 12L13 16Z" fill="currentColor"/>
              <path d="M2 12L8 11L12 12L8 13Z" fill="currentColor"/>
              <path d="M22 12L16 13L12 12L16 11Z" fill="currentColor"/>
              <path d="M6.34 6.34L9.66 9.66L8.12 12L4.8 8.68Z" fill="currentColor"/>
              <path d="M17.66 17.66L14.34 14.34L15.88 12L19.2 15.32Z" fill="currentColor"/>
              <path d="M17.66 6.34L14.34 9.66L15.88 12L19.2 8.68Z" fill="currentColor"/>
              <path d="M6.34 17.66L9.66 14.34L8.12 12L4.8 15.32Z" fill="currentColor"/>
            </svg>
          </div>
          <div class="dinveda-ritual-snapshot__label">Geschmack</div>
          <div class="dinveda-ritual-snapshot__value">{{ taste_value | escape }}</div>
        </div>
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "DinVeda Ritual Snapshot",
  "tag": "section",
  "class": "dynamic-section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Ritual auf einen Blick"
    },
    {
      "type": "text",
      "id": "timing_fallback",
      "label": "Tageszeit Fallback",
      "info": "Displayed if product.metafields.dinveda.ritual_timing is empty. Leave blank to hide item if metafield is empty."
    },
    {
      "type": "text",
      "id": "usage_fallback",
      "label": "Anwendung Fallback",
      "info": "Displayed if product.metafields.dinveda.ritual_usage is empty. Leave blank to hide item if metafield is empty."
    },
    {
      "type": "text",
      "id": "taste_fallback",
      "label": "Geschmack Fallback",
      "info": "Displayed if product.metafields.dinveda.taste_character is empty. Leave blank to hide item if metafield is empty."
    }
  ],
  "presets": [
    {
      "name": "DinVeda Ritual Snapshot"
    }
  ]
}
{% endschema %}
