<section id="dinveda-hero-{{ section.id }}" class="dinveda-hero">

  <div class="dinveda-hero__inner">

    <div class="dinveda-hero__content">

      {% if section.settings.kicker != blank %}

        <p class="dinveda-hero__kicker">{{ section.settings.kicker }}</p>

      {% endif %}

      {% if section.settings.heading != blank %}

        <h1 class="dinveda-hero__heading">{{ section.settings.heading }}</h1>

      {% endif %}

      {% if section.settings.text != blank %}

        <div class="dinveda-hero__text">{{ section.settings.text }}</div>

      {% endif %}

      <div class="dinveda-hero__buttons">

        {% if section.settings.primary_button_label != blank and section.settings.primary_button_link != blank %}

          <a href="{{ section.settings.primary_button_link }}" class="dinveda-hero__btn dinveda-hero__btn--primary">

            {{ section.settings.primary_button_label }}

          </a>

        {% endif %}

        {% if section.settings.secondary_button_label != blank and section.settings.secondary_button_link != blank %}

          <a href="{{ section.settings.secondary_button_link }}" class="dinveda-hero__btn dinveda-hero__btn--secondary">

            {{ section.settings.secondary_button_label }}

          </a>

        {% endif %}

      </div>

    </div>



    <div class="dinveda-hero__carousel">

      <div class="dinveda-hero__slides">

        {% for block in section.blocks %}

          {% if block.type == 'animal_slide' %}

            <div class="dinveda-hero__slide" {{ block.shopify_attributes }}>

              {% if block.settings.image != blank %}

                {{ block.settings.image | image_url: width: 800 | image_tag: class: 'dinveda-hero__image', loading: 'lazy' }}

              {% endif %}

              {% if block.settings.label != blank %}

                <p class="dinveda-hero__animal-label">{{ block.settings.label }}</p>

              {% endif %}

            </div>

          {% endif %}

        {% endfor %}

      </div>



      <div class="dinveda-hero__dots">

        {% for block in section.blocks %}

          {% if block.type == 'animal_slide' %}

            <button class="dinveda-hero__dot" data-index="{{ forloop.index0 }}"

              aria-label="{{ block.settings.label | default: 'Slide ' | append: forloop.index }}">

            </button>

          {% endif %}

        {% endfor %}

      </div>

    </div>

  </div>

</section>



<script>

document.addEventListener('DOMContentLoaded', function() {

  var section = document.getElementById('dinveda-hero-{{ section.id }}');

  if (!section) return;

  var slides = section.querySelectorAll('.dinveda-hero__slide');

  var dots = section.querySelectorAll('.dinveda-hero__dot');

  if (!slides.length) return;

  var index = 0;



  function show(i) {

    slides.forEach(function(s, idx) {

      s.classList.toggle('is-active', idx === i);

    });

    dots.forEach(function(d, idx) {

      d.classList.toggle('is-active', idx === i);

    });

  }



  dots.forEach(function(dot) {

    dot.addEventListener('click', function() {

      var i = parseInt(dot.getAttribute('data-index')) || 0;

      index = i;

      show(index);

    });

  });



  show(0);



  var interval = {{ section.settings.autoplay_interval | default: 5 }} * 1000;

  if (interval > 0 && slides.length > 1) {

    setInterval(function() {

      index = (index + 1) % slides.length;

      show(index);

    }, interval);

  }

});

</script>



<style>

  #dinveda-hero-{{ section.id }} {

    background-color: #FFF0DD;

    color: #C17129;

    padding: 4rem 1.5rem;

  }



  .dinveda-hero__inner {

    max-width: 1200px;

    margin: 0 auto;

    display: grid;

    grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);

    gap: 3rem;

    align-items: center;

  }



  .dinveda-hero__kicker {

    text-transform: uppercase;

    letter-spacing: 0.1em;

    font-size: 0.85rem;

    margin-bottom: 0.75rem;

  }



  .dinveda-hero__heading {

    font-size: 2.4rem;

    line-height: 1.1;

    margin-bottom: 1rem;

  }



  .dinveda-hero__text {

    font-size: 1rem;

    line-height: 1.5;

    margin-bottom: 1.5rem;

  }



  .dinveda-hero__buttons {

    display: flex;

    flex-wrap: wrap;

    gap: 0.75rem;

  }



  .dinveda-hero__btn {

    display: inline-flex;

    align-items: center;

    justify-content: center;

    padding: 0.75rem 1.5rem;

    border-radius: 999px;

    font-size: 0.95rem;

    text-decoration: none;

    border: 1px solid #C17129;

  }



  .dinveda-hero__btn--primary {

    background-color: #C17129;

    color: #FFF0DD;

  }



  .dinveda-hero__btn--secondary {

    background-color: transparent;

    color: #C17129;

  }



  .dinveda-hero__carousel {

    position: relative;

  }



  .dinveda-hero__slides {

    position: relative;

    overflow: hidden;

    min-height: 260px;

  }



  .dinveda-hero__slide {

    position: absolute;

    inset: 0;

    opacity: 0;

    transform: translateX(10px);

    transition: opacity 300ms ease, transform 300ms ease;

    display: flex;

    flex-direction: column;

    align-items: center;

    justify-content: center;

  }



  .dinveda-hero__slide.is-active {

    opacity: 1;

    transform: translateX(0);

  }



  .dinveda-hero__image {

    max-width: 100%;

    height: auto;

    display: block;

    margin-bottom: 0.75rem;

  }



  .dinveda-hero__animal-label {

    font-size: 0.9rem;

    text-align: center;

  }



  .dinveda-hero__dots {

    margin-top: 0.75rem;

    display: flex;

    justify-content: center;

    gap: 0.5rem;

  }



  .dinveda-hero__dot {

    width: 8px;

    height: 8px;

    border-radius: 999px;

    border: none;

    background-color: rgba(193, 113, 41, 0.3);

    cursor: pointer;

  }



  .dinveda-hero__dot.is-active {

    background-color: #C17129;

  }



  @media (max-width: 768px) {

    #dinveda-hero-{{ section.id }} {

      padding: 3rem 1.25rem;

    }



    .dinveda-hero__heading {

      font-size: 2rem;

    }



    .dinveda-hero__inner {

      grid-template-columns: minmax(0, 1fr);

      text-align: center;

    }



    .dinveda-hero__buttons {

      justify-content: center;

    }

  }

</style>



{% schema %}

{

  "name": "DINVEDA hero carousel",

  "tag": "section",

  "settings": [

    {

      "type": "text",

      "id": "kicker",

      "label": "Kicker",

      "default": "DINVEDA · Daily Ayurveda Rituals"

    },

    {

      "type": "text",

      "id": "heading",

      "label": "Heading",

      "default": "Wohlbefinden verwurzelt in alter Weisheit"

    },

    {

      "type": "richtext",

      "id": "text",

      "label": "Text",

      "default": "<p>Bio-ayurvedische Mischungen für deine täglichen Rituale.</p>"

    },

    {

      "type": "text",

      "id": "primary_button_label",

      "label": "Primary button label",

      "default": "Blends entdecken"

    },

    {

      "type": "url",

      "id": "primary_button_link",

      "label": "Primary button link"

    },

    {

      "type": "text",

      "id": "secondary_button_label",

      "label": "Secondary button label",

      "default": "Mehr über DINVEDA"

    },

    {

      "type": "url",

      "id": "secondary_button_link",

      "label": "Secondary button link"

    },

    {

      "type": "range",

      "id": "autoplay_interval",

      "label": "Autoplay interval (0 = off)",

      "min": 0,

      "max": 10,

      "step": 1,

      "unit": "s",

      "default": 5

    }

  ],

  "blocks": [

    {

      "type": "animal_slide",

      "name": "Animal slide",

      "settings": [

        {

          "type": "image_picker",

          "id": "image",

          "label": "Animal image"

        },

        {

          "type": "text",

          "id": "label",

          "label": "Animal / blend label",

          "default": "Golden Boost – Fuchs"

        }

      ]

    }

  ],

  "max_blocks": 6,

  "presets": [

    {

      "name": "DINVEDA hero carousel",

      "category": "Hero"

    }

  ]

}

{% endschema %}
